# 축제 디지털방명록 시스템 - 사용자 매뉴얼

## 📋 목차

1. [시스템 개요](#시스템-개요)
2. [시스템 아키텍처](#시스템-아키텍처)
3. [관리자 매뉴얼](#관리자-매뉴얼)
4. [부스 운영자 매뉴얼](#부스-운영자-매뉴얼)
5. [참가자 매뉴얼](#참가자-매뉴얼)
6. [시스템 흐름도](#시스템-흐름도)
7. [FAQ & 문제 해결](#faq--문제-해결)

---

## 시스템 개요

### 🎯 목적
축제 및 행사에서 참가자의 디지털 방명록 작성과 부스별 대기열 관리를 통합적으로 제공하는 시스템입니다.

### ✨ 주요 기능

#### 📊 관리자 기능
- 행사 및 부스 관리
- 전체 참가자 데이터 조회 및 분석
- 실시간 통계 확인
- 데이터 백업 및 복구
- 이메일 전송 관리

#### 👥 부스 운영자 기능
- 부스별 방명록 실시간 조회
- 대기열 관리 (호출, 완료 처리)
- 부스 통계 확인
- 참가자 QR 코드 스캔

#### 🎫 참가자 기능
- 개인정보 입력 및 방명록 작성
- 대기번호 발급 및 확인
- 실시간 대기 현황 조회
- QR 코드를 통한 빠른 입장

### 🔐 접근 권한

```
┌─────────────────────────────────────────┐
│          시스템 접근 구조                 │
└─────────────────────────────────────────┘

관리자 (Admin)
├─ 아이디/비밀번호 로그인
├─ 모든 데이터 접근 가능
├─ 행사/부스 생성 및 관리
└─ 시스템 설정 변경

부스 운영자 (Operator)
├─ 부스 코드 로그인 (6자리)
├─ 자신의 부스 데이터만 접근
├─ 방명록 조회 및 대기열 관리
└─ 부스 통계 확인

참가자 (Participant)
├─ 로그인 불필요
├─ 방명록 작성
├─ 대기번호 발급
└─ QR 코드 확인
```

---

## 시스템 아키텍처

### 📐 전체 시스템 구조

```
┌──────────────────────────────────────────────────────────────┐
│                    클라이언트 (브라우저)                        │
├──────────────────────────────────────────────────────────────┤
│  관리자 대시보드  │  운영자 대시보드  │  참가자 방명록 페이지    │
└─────────┬────────┴─────────┬────────┴─────────┬──────────────┘
          │                  │                  │
          ▼                  ▼                  ▼
┌──────────────────────────────────────────────────────────────┐
│                    Hono API Server                            │
│                  (Cloudflare Workers)                         │
├──────────────────────────────────────────────────────────────┤
│  /api/auth      │  /api/events    │  /api/participants       │
│  /api/booths    │  /api/queue     │  /api/stats              │
└─────────┬────────┴─────────┬────────┴─────────┬──────────────┘
          │                  │                  │
          ▼                  ▼                  ▼
┌──────────────────────────────────────────────────────────────┐
│              Cloudflare D1 Database (SQLite)                  │
├──────────────────────────────────────────────────────────────┤
│  admins         │  events         │  participants             │
│  booths         │  queue_tickets  │  visits                   │
└──────────────────────────────────────────────────────────────┘
```

### 🗄️ 데이터베이스 구조

```
┌─────────────────────────────────────────────────────────────┐
│                     데이터베이스 스키마                         │
└─────────────────────────────────────────────────────────────┘

admins (관리자)
├─ id (Primary Key)
├─ username (아이디)
├─ password_hash (암호화된 비밀번호)
└─ created_at (생성일시)

events (행사)
├─ id (Primary Key)
├─ name (행사명)
├─ date (행사일)
├─ location (장소)
├─ is_active (활성화 여부)
└─ created_at (생성일시)

booths (부스)
├─ id (Primary Key)
├─ event_id (행사 ID) → events.id
├─ name (부스명)
├─ booth_code (부스 코드, 6자리)
├─ description (설명)
└─ created_at (생성일시)

participants (참가자)
├─ id (Primary Key)
├─ name (이름)
├─ birth_date (생년월일)
├─ gender (성별)
├─ phone (연락처)
├─ email (이메일)
├─ agreed_to_terms (약관 동의)
└─ created_at (생성일시)

visits (방문 기록)
├─ id (Primary Key)
├─ participant_id → participants.id
├─ booth_id → booths.id
├─ message (방명록 메시지)
└─ visited_at (방문 일시)

queue_tickets (대기표)
├─ id (Primary Key)
├─ booth_id → booths.id
├─ participant_id → participants.id
├─ queue_number (대기번호)
├─ status (대기/호출/완료/취소)
└─ created_at (발급일시)
```

---

## 관리자 매뉴얼

### 🔐 1. 로그인

#### 접속 방법
1. 시스템 메인 페이지 접속
2. **"관리자 로그인"** 버튼 클릭
3. 아이디와 비밀번호 입력

**기본 계정**
```
아이디: admin
비밀번호: admin123
```

#### 로그인 흐름도
```
┌─────────────┐
│  메인 페이지  │
└──────┬──────┘
       │ "관리자 로그인" 클릭
       ▼
┌─────────────┐
│ 로그인 페이지 │
└──────┬──────┘
       │ 아이디/비밀번호 입력
       ▼
┌─────────────┐      ┌──────────────┐
│  인증 확인   │ ──→  │  JWT 토큰 발급 │
└──────┬──────┘      └──────────────┘
       │ 성공
       ▼
┌─────────────┐
│관리자 대시보드│
└─────────────┘
```

---

### 📊 2. 대시보드 개요

#### 화면 구성
```
┌──────────────────────────────────────────────────────────┐
│  관리자 대시보드                         [로그아웃] [새로고침] │
├──────────────────────────────────────────────────────────┤
│  📊 실시간 통계                                            │
│  ┌───────────┬───────────┬───────────┬───────────┐       │
│  │전체 참가자 │활성화 부스 │진행중 행사 │  총 방문   │       │
│  │    152    │     12    │     3     │   348     │       │
│  └───────────┴───────────┴───────────┴───────────┘       │
├──────────────────────────────────────────────────────────┤
│  [행사 관리] [부스 관리] [참가자 조회] [통계] [백업]        │
├──────────────────────────────────────────────────────────┤
│  📋 최근 활동                                              │
│  • 김철수님이 "AI 체험 부스" 방문 (5분 전)                  │
│  • 이영희님이 대기번호 발급 (10분 전)                       │
│  • 박민수님이 방명록 작성 완료 (15분 전)                    │
└──────────────────────────────────────────────────────────┘
```

---

### 🎪 3. 행사 관리

#### 3.1 새 행사 생성

**단계별 가이드**
```
Step 1: 행사 관리 탭 클릭
   ▼
Step 2: "새 행사 추가" 버튼 클릭
   ▼
Step 3: 행사 정보 입력
   ├─ 행사명 (필수)
   ├─ 행사일 (필수)
   ├─ 장소 (필수)
   └─ 설명 (선택)
   ▼
Step 4: "행사 생성" 버튼 클릭
   ▼
Step 5: 생성 완료 확인
```

**입력 예시**
```yaml
행사명: 2025 제미나이 AI 페스티벌
행사일: 2025-06-15
장소: 서울 코엑스 3층
설명: AI 기술 체험 및 교육 행사
```

#### 3.2 행사 활성화/비활성화

```
활성화된 행사
├─ 참가자가 선택 가능
├─ 부스 운영 가능
└─ 통계에 포함

비활성화된 행사
├─ 참가자 선택 불가
├─ 부스 운영 중단
└─ 통계에서 제외 (이력은 보존)
```

**조작 방법**
1. 행사 목록에서 해당 행사 찾기
2. 우측 토글 스위치 클릭
3. 상태 변경 확인

---

### 🏪 4. 부스 관리

#### 4.1 부스 생성 흐름도

```
┌──────────────┐
│ 부스 관리 탭  │
└──────┬───────┘
       │
       ▼
┌──────────────────┐
│ "새 부스 추가"    │
└──────┬───────────┘
       │
       ▼
┌──────────────────────────┐
│ 부스 정보 입력            │
│ ┌──────────────────────┐ │
│ │ 행사 선택 (드롭다운)   │ │
│ ├──────────────────────┤ │
│ │ 부스명 입력           │ │
│ ├──────────────────────┤ │
│ │ 부스 코드 (자동생성)   │ │
│ │ 예: GEMI01           │ │
│ ├──────────────────────┤ │
│ │ 설명 (선택)           │ │
│ └──────────────────────┘ │
└──────┬───────────────────┘
       │
       ▼
┌──────────────────┐
│ 부스 생성 완료     │
│ 부스 코드 표시     │
└──────────────────┘
```

#### 4.2 부스 코드 관리

**부스 코드 규칙**
- 6자리 영문 대문자 + 숫자
- 예: `GEMI01`, `FOOD02`, `GAME03`
- 자동 생성 또는 수동 입력 가능

**부스 코드 용도**
```
부스 운영자 로그인
├─ 부스 코드만으로 간편 로그인
├─ 별도 아이디/비밀번호 불필요
└─ 부스별 독립적 운영 가능

보안
├─ 6자리 조합으로 높은 보안성
├─ 부스별 고유 코드
└─ 필요시 재발급 가능
```

#### 4.3 부스 정보 수정

1. 부스 목록에서 수정할 부스 선택
2. "편집" 버튼 클릭
3. 정보 수정 (부스명, 설명 등)
4. "저장" 버튼 클릭

⚠️ **주의**: 부스 코드는 수정 불가 (재발급 필요)

---

### 👥 5. 참가자 관리

#### 5.1 참가자 조회

**검색 필터**
```
┌─────────────────────────────────────┐
│  참가자 검색                          │
├─────────────────────────────────────┤
│  🔍 이름/전화번호/이메일 검색          │
│  📅 기간 필터 (방문일 기준)            │
│  🎪 행사별 필터                       │
│  🏪 부스별 필터                       │
│  👤 성별 필터                         │
│  📊 정렬 (최신순/이름순/방문수)         │
└─────────────────────────────────────┘
```

**참가자 상세 정보**
```
┌──────────────────────────────────────┐
│  참가자 정보                          │
├──────────────────────────────────────┤
│  이름: 김철수                         │
│  성별: 남성                           │
│  생년월일: 1990-01-15                 │
│  연락처: 010-1234-5678                │
│  이메일: kim@example.com              │
│  가입일: 2025-06-15 14:30             │
├──────────────────────────────────────┤
│  방문 이력                            │
│  • AI 체험 부스 (2025-06-15 14:35)    │
│    메시지: "정말 재미있었어요!"        │
│  • VR 게임 부스 (2025-06-15 15:20)    │
│    메시지: "너무 신기해요!"            │
├──────────────────────────────────────┤
│  대기표 이력                          │
│  • #42 - 로봇 체험 부스 (완료)         │
│  • #103 - 드론 체험 부스 (대기 중)     │
└──────────────────────────────────────┘
```

#### 5.2 데이터 내보내기

**지원 형식**
- 📄 CSV (엑셀 호환)
- 📊 Excel (XLSX)
- 📋 JSON (개발자용)

**내보내기 절차**
```
1. 참가자 목록 필터링
   ▼
2. "내보내기" 버튼 클릭
   ▼
3. 형식 선택 (CSV/Excel/JSON)
   ▼
4. 포함할 필드 선택
   ├─ 개인정보
   ├─ 방문 기록
   └─ 대기표 정보
   ▼
5. 다운로드 시작
```

---

### 📈 6. 통계 및 분석

#### 6.1 실시간 통계 대시보드

```
┌────────────────────────────────────────────────────────┐
│  📊 실시간 통계                                         │
├────────────────────────────────────────────────────────┤
│  시간대별 방문자 추이                                    │
│  ┌──────────────────────────────────────────────┐     │
│  │  100│     ╱╲                                  │     │
│  │   80│    ╱  ╲      ╱╲                         │     │
│  │   60│   ╱    ╲    ╱  ╲    ╱╲                  │     │
│  │   40│  ╱      ╲  ╱    ╲  ╱  ╲                 │     │
│  │   20│ ╱        ╲╱      ╲╱    ╲                │     │
│  │    0└───────────────────────────────────      │     │
│  │      10  11  12  13  14  15  16  17 (시)      │     │
│  └──────────────────────────────────────────────┘     │
├────────────────────────────────────────────────────────┤
│  부스별 인기도                                          │
│  ┌──────────────────────────────────────────────┐     │
│  │  AI 체험    ████████████████████ 248명        │     │
│  │  VR 게임    ███████████████ 189명             │     │
│  │  로봇 체험  ████████████ 156명                │     │
│  │  드론 조종  ████████ 98명                     │     │
│  │  코딩 교실  █████ 67명                        │     │
│  └──────────────────────────────────────────────┘     │
├────────────────────────────────────────────────────────┤
│  성별/연령대 분포                                       │
│  ┌─────────────────┬─────────────────┐              │
│  │   성별 분포      │   연령대 분포    │              │
│  │  ┌───────────┐  │  ┌───────────┐  │              │
│  │  │ 남 54%    │  │  │ 10대 25%  │  │              │
│  │  │ 여 46%    │  │  │ 20대 35%  │  │              │
│  │  └───────────┘  │  │ 30대 22%  │  │              │
│  │                 │  │ 40대+ 18% │  │              │
│  │                 │  └───────────┘  │              │
│  └─────────────────┴─────────────────┘              │
└────────────────────────────────────────────────────────┘
```

#### 6.2 리포트 생성

**리포트 종류**
1. **일일 리포트**: 당일 전체 활동 요약
2. **부스별 리포트**: 특정 부스 상세 분석
3. **기간별 리포트**: 특정 기간 종합 분석
4. **참가자 리포트**: 참가자 통계 및 인사이트

---

### 💾 7. 백업 및 복구

#### 7.1 데이터 백업

```
백업 프로세스
├─ 자동 백업 (매일 자정)
│  └─ 최근 7일치 보관
├─ 수동 백업 (관리자 실행)
│  └─ 언제든지 실행 가능
└─ 백업 파일 형식
   └─ JSON (전체 데이터)
```

**수동 백업 절차**
1. 관리자 대시보드 → "백업" 탭
2. "지금 백업" 버튼 클릭
3. 백업 완료 대기 (약 10-30초)
4. 백업 파일 자동 다운로드

#### 7.2 데이터 복구

⚠️ **주의**: 복구 시 현재 데이터는 모두 삭제됩니다!

```
복구 프로세스
1. 백업 파일 선택
   ▼
2. 데이터 검증
   ├─ 파일 형식 확인
   ├─ 데이터 무결성 검사
   └─ 버전 호환성 확인
   ▼
3. 경고 메시지 확인
   "현재 데이터가 모두 삭제됩니다"
   ▼
4. 복구 실행
   ├─ 기존 데이터 삭제
   ├─ 백업 데이터 복원
   └─ 인덱스 재구성
   ▼
5. 복구 완료
```

---

### 📧 8. 이메일 전송

#### 8.1 일괄 이메일 발송

**발송 대상 선택**
```
전체 참가자
├─ 모든 참가자에게 발송
└─ 예: 행사 안내, 감사 인사

특정 부스 방문자
├─ 특정 부스 방문한 참가자만
└─ 예: 부스 관련 추가 정보

기간별 참가자
├─ 특정 기간 참가자만
└─ 예: 1일차 참가자 대상

필터링 결과
├─ 고급 검색 결과 대상
└─ 예: 20대 여성 참가자
```

#### 8.2 이메일 템플릿

**기본 템플릿**
```html
제목: [2025 제미나이 페스티벌] {제목}

안녕하세요, {이름}님!

{본문 내용}

감사합니다.

━━━━━━━━━━━━━━━━━━━━━━━━━━
2025 제미나이 AI 페스티벌 운영팀
문의: festival@example.com
```

---

## 부스 운영자 매뉴얼

### 🔐 1. 로그인

#### 접속 방법
```
┌─────────────┐
│  메인 페이지  │
└──────┬──────┘
       │ "부스 운영자 로그인" 클릭
       ▼
┌─────────────────┐
│부스 코드 입력 화면│
└──────┬──────────┘
       │ 6자리 코드 입력
       │ 예: GEMI01
       ▼
┌─────────────────┐
│  자동 로그인     │
└──────┬──────────┘
       │
       ▼
┌─────────────────┐
│ 운영자 대시보드  │
└─────────────────┘
```

**부스 코드 확인 방법**
1. 관리자에게 문의
2. 또는 로그인 화면에서 "부스 코드 찾기" 클릭
   - 행사 선택
   - 부스명 검색
   - 코드 확인

---

### 📊 2. 대시보드 개요

```
┌──────────────────────────────────────────────────────┐
│  AI 체험 부스                      [새로고침] [로그아웃] │
├──────────────────────────────────────────────────────┤
│  📊 실시간 통계                                        │
│  ┌─────────────┬─────────────┬─────────────┐        │
│  │  총 방문자   │  오늘 방문   │  대기 중     │        │
│  │     248     │     42      │      8      │        │
│  └─────────────┴─────────────┴─────────────┘        │
├──────────────────────────────────────────────────────┤
│  [방명록 조회] [대기열 관리] [QR 스캔] [통계]          │
├──────────────────────────────────────────────────────┤
│  🎫 대기열 현황                                        │
│  현재 호출: #45                                       │
│  ┌────────────────────────────────────────┐          │
│  │ #46 - 김철수 (5분 전 발급)      [호출]  │          │
│  │ #47 - 이영희 (4분 전 발급)              │          │
│  │ #48 - 박민수 (3분 전 발급)              │          │
│  └────────────────────────────────────────┘          │
└──────────────────────────────────────────────────────┘
```

---

### 📝 3. 방명록 조회

#### 3.1 실시간 방명록 목록

```
┌──────────────────────────────────────────────────────┐
│  방명록 목록                           [새로고침] [검색] │
├──────────────────────────────────────────────────────┤
│  ┌────────────────────────────────────────────────┐  │
│  │ 김철수 (남, 25세)           2025-06-15 14:35   │  │
│  │ "AI 기술이 정말 놀라웠어요! 많이 배웠습니다"     │  │
│  │ ⭐⭐⭐⭐⭐                                       │  │
│  └────────────────────────────────────────────────┘  │
│  ┌────────────────────────────────────────────────┐  │
│  │ 이영희 (여, 30세)           2025-06-15 14:20   │  │
│  │ "체험이 재미있었어요. 추천합니다!"              │  │
│  │ ⭐⭐⭐⭐                                        │  │
│  └────────────────────────────────────────────────┘  │
│  ┌────────────────────────────────────────────────┐  │
│  │ 박민수 (남, 35세)           2025-06-15 14:05   │  │
│  │ "아이들과 함께 와서 좋았습니다"                 │  │
│  │ ⭐⭐⭐⭐⭐                                       │  │
│  └────────────────────────────────────────────────┘  │
└──────────────────────────────────────────────────────┘
```

#### 3.2 방명록 검색

**검색 조건**
- 이름
- 날짜 범위
- 성별
- 키워드 (메시지 내용)

---

### 🎫 4. 대기열 관리

#### 4.1 대기열 시스템 흐름

```
참가자가 대기표 발급
       ▼
┌─────────────────┐
│ 대기 중 (Waiting)│  ← 대기 상태
└────────┬────────┘
         │ 운영자가 "호출" 클릭
         ▼
┌─────────────────┐
│ 호출됨 (Called) │  ← 입장 안내
└────────┬────────┘
         │ 참가자 입장 확인
         ▼
┌─────────────────┐
│ 완료 (Completed)│  ← 체험 완료
└─────────────────┘
```

#### 4.2 대기열 조작

**호출하기**
```
1. 대기 목록에서 다음 번호 확인
2. "호출" 버튼 클릭
3. 참가자에게 입장 안내
4. 참가자 QR 코드 확인
```

**완료 처리**
```
1. 체험 종료 후 "완료" 버튼 클릭
2. 자동으로 다음 대기자 표시
3. 통계 자동 업데이트
```

**현재 번호 확인**
```
┌────────────────────────┐
│  현재 호출 중           │
│                        │
│  ╔══════════════════╗  │
│  ║      #  45       ║  │
│  ╚══════════════════╝  │
│                        │
│  김철수님 입장 중       │
└────────────────────────┘
```

#### 4.3 대기 통계

```
┌──────────────────────────────────┐
│  대기열 통계                      │
├──────────────────────────────────┤
│  평균 대기 시간:  12분            │
│  평균 체험 시간:  8분             │
│  현재 대기 인원:  8명             │
│  예상 대기 시간:  약 20분         │
│                                  │
│  처리 현황                        │
│  ├─ 완료: 234명                  │
│  ├─ 대기: 8명                    │
│  └─ 취소: 3명                    │
└──────────────────────────────────┘
```

---

### 📱 5. QR 코드 스캔

#### 5.1 QR 스캔 기능

```
┌────────────────────────────┐
│  QR 코드 스캔               │
├────────────────────────────┤
│  ┌────────────────────┐    │
│  │                    │    │
│  │   📷 카메라 화면    │    │
│  │                    │    │
│  └────────────────────┘    │
│                            │
│  [스캔 시작]               │
└────────────────────────────┘
       │ 참가자 QR 인식
       ▼
┌────────────────────────────┐
│  참가자 정보 확인           │
├────────────────────────────┤
│  이름: 김철수               │
│  대기번호: #45             │
│  발급시간: 14:30           │
│                            │
│  [입장 확인] [취소]         │
└────────────────────────────┘
```

#### 5.2 수동 입력

QR 스캔이 안 될 경우:
1. "수동 입력" 버튼 클릭
2. 대기번호 입력
3. 참가자 정보 확인
4. 입장 처리

---

### 📈 6. 부스 통계

```
┌──────────────────────────────────────────────┐
│  AI 체험 부스 - 통계                          │
├──────────────────────────────────────────────┤
│  📊 일일 통계                                 │
│  ┌──────────────────────────────────────┐   │
│  │  시간    방문자   대기자   평균대기    │   │
│  ├──────────────────────────────────────┤   │
│  │  10:00    15      3        5분       │   │
│  │  11:00    22      8       12분       │   │
│  │  12:00    18      5        8분       │   │
│  │  13:00    12      2        3분       │   │
│  │  14:00    28     12       18분       │   │
│  │  15:00    25      8       10분       │   │
│  └──────────────────────────────────────┘   │
├──────────────────────────────────────────────┤
│  👥 참가자 분석                               │
│  ┌──────────────────────────────────────┐   │
│  │  성별 분포                            │   │
│  │  남성: 58% ████████████              │   │
│  │  여성: 42% █████████                 │   │
│  ├──────────────────────────────────────┤   │
│  │  연령대 분포                          │   │
│  │  10대: 25% ██████                    │   │
│  │  20대: 35% █████████                 │   │
│  │  30대: 22% █████                     │   │
│  │  40대+: 18% ████                     │   │
│  └──────────────────────────────────────┘   │
└──────────────────────────────────────────────┘
```

---

## 참가자 매뉴얼

### 📱 1. 방명록 작성

#### 1.1 방명록 작성 흐름

```
┌──────────────────────────────────────────────┐
│           방명록 작성 프로세스                 │
└──────────────────────────────────────────────┘

Step 1: 개인정보 동의
┌─────────────────────────┐
│ 개인정보 수집 및 이용 동의 │
│ [약관 전문 보기]          │
│ ☑ 동의합니다             │
│ [다음]                   │
└─────────────────────────┘
       ▼
Step 2: 행사 선택
┌─────────────────────────┐
│ 참여하실 행사를 선택하세요 │
│ ○ 2025 제미나이 페스티벌  │
│ ○ AI 체험 박람회         │
│ [다음]                   │
└─────────────────────────┘
       ▼
Step 3: 성별 선택
┌─────────────────────────┐
│ 성별을 선택해주세요       │
│ ○ 남성                   │
│ ○ 여성                   │
│ [다음]                   │
└─────────────────────────┘
       ▼
Step 4: 부스 선택
┌─────────────────────────┐
│ 방문하실 부스를 선택하세요 │
│ ○ AI 체험 부스           │
│ ○ VR 게임 부스           │
│ ○ 로봇 체험 부스         │
│ [다음]                   │
└─────────────────────────┘
       ▼
Step 5: 생년월일 입력
┌─────────────────────────┐
│ 생년월일을 선택하세요     │
│ [1990] [01] [15]        │
│ [다음]                   │
└─────────────────────────┘
       ▼
Step 6: 개인정보 입력
┌─────────────────────────┐
│ 이름: [김철수]           │
│ 전화: [010-1234-5678]   │
│ 이메일: [kim@email.com] │
│                         │
│ 방명록 메시지:           │
│ [정말 재미있었어요!]     │
│                         │
│ [제출하기]               │
└─────────────────────────┘
       ▼
┌─────────────────────────┐
│  ✅ 작성 완료!           │
│                         │
│  대기번호를 발급받으시겠어요? │
│  [예] [아니오]           │
└─────────────────────────┘
```

#### 1.2 입력 가이드

**필수 입력 항목**
```
✓ 이름 (2-20자)
✓ 성별
✓ 생년월일
✓ 전화번호 (010-0000-0000)
✓ 이메일 (example@email.com)
✓ 행사 선택
✓ 부스 선택
✓ 개인정보 동의
```

**선택 입력 항목**
```
□ 방명록 메시지 (최대 500자)
```

---

### 🎫 2. 대기번호 발급

#### 2.1 대기번호 발급 과정

```
방명록 작성 완료
       ▼
┌─────────────────────────┐
│ 대기번호 발급 안내        │
│                         │
│ 현재 대기 인원: 8명      │
│ 예상 대기 시간: 약 20분  │
│                         │
│ [발급받기] [나중에]      │
└─────────────────────────┘
       ▼
┌─────────────────────────┐
│  🎫 대기번호 발급 완료    │
│                         │
│    ╔════════════════╗   │
│    ║    #  46       ║   │
│    ╚════════════════╝   │
│                         │
│  김철수님                │
│  AI 체험 부스            │
│                         │
│  [QR 코드 보기]          │
│  [대기 현황 확인]        │
└─────────────────────────┘
```

#### 2.2 대기번호 확인

**발급 후 확인 방법**
1. 이메일로 전송된 링크 클릭
2. 또는 QR 코드 저장 후 재확인
3. URL 직접 접속: `/queue-ticket?booth=1&number=46`

---

### 📊 3. 대기 현황 확인

#### 3.1 실시간 대기 현황

```
┌────────────────────────────────────┐
│  AI 체험 부스 - 대기 현황           │
├────────────────────────────────────┤
│  내 대기번호                        │
│                                    │
│    ╔════════════════════════╗      │
│    ║        #  46           ║      │
│    ╚════════════════════════╝      │
│                                    │
│  ┌──────────────────────────────┐ │
│  │  현재 호출 중: #45           │ │
│  │  내 앞 대기: 1명             │ │
│  │  예상 대기: 약 8분           │ │
│  └──────────────────────────────┘ │
│                                    │
│  상태: 곧 차례입니다! 🔔           │
│                                    │
│  [새로고침] [QR 코드]              │
└────────────────────────────────────┘
```

#### 3.2 상태별 안내

```
🟢 대기 중 (Waiting)
├─ "대기 중입니다"
├─ 현재 번호와 남은 인원 표시
└─ 자동 새로고침 (30초마다)

🟡 곧 차례 (Soon)
├─ "곧 차례입니다! 준비해주세요"
├─ 앞 대기자 3명 이하
└─ 알림 강조 표시

🟠 다음 차례 (Next)
├─ "다음 차례입니다!"
├─ 앞 대기자 1명
└─ 진동 알림 (모바일)

🔴 입장하세요 (Enter)
├─ "지금 바로 입장하세요! 🎉"
├─ 현재 호출 번호와 일치
└─ QR 코드 자동 표시
```

---

### 📱 4. QR 코드 사용

#### 4.1 QR 코드 화면

```
┌────────────────────────────┐
│  대기번호 #46               │
├────────────────────────────┤
│  ┌────────────────────┐    │
│  │  ████  ████  ████  │    │
│  │  ████  ████  ████  │    │
│  │  ████  ████  ████  │    │
│  │  ████  ████  ████  │    │
│  └────────────────────┘    │
│                            │
│  AI 체험 부스               │
│  김철수님                   │
│  발급: 2025-06-15 14:30    │
│                            │
│  운영자에게 보여주세요       │
│                            │
│  [저장하기] [공유하기]      │
└────────────────────────────┘
```

#### 4.2 QR 코드 저장

**저장 방법**
1. "저장하기" 버튼 클릭
2. 이미지로 다운로드
3. 또는 스크린샷 촬영

**주의사항**
- QR 코드는 1회용입니다
- 다른 사람과 공유하지 마세요
- 입장 후에는 무효화됩니다

---

### 🔔 5. 알림 기능

#### 5.1 알림 설정

```
알림 받기 (선택)
├─ 이메일 알림
│  └─ 차례가 되면 이메일 발송
├─ SMS 알림 (추가 기능)
│  └─ 문자 메시지 발송
└─ 브라우저 알림
   └─ 페이지 열려있을 때 알림
```

#### 5.2 알림 예시

**이메일 알림**
```
제목: [AI 체험 부스] 곧 차례입니다!

안녕하세요, 김철수님!

현재 대기번호 #45가 호출되었습니다.
곧 #46번이 호출될 예정입니다.

부스로 이동해주세요!

━━━━━━━━━━━━━━━━━━━━━
대기번호: #46
부스: AI 체험 부스
예상 대기: 약 5분
━━━━━━━━━━━━━━━━━━━━━

[대기 현황 확인하기]
```

---

## 시스템 흐름도

### 🔄 전체 시스템 플로우

```
┌────────────────────────────────────────────────────────────────┐
│                    전체 시스템 플로우                             │
└────────────────────────────────────────────────────────────────┘

                        시작
                         │
         ┌───────────────┼───────────────┐
         │               │               │
    [관리자]        [운영자]        [참가자]
         │               │               │
         ▼               ▼               ▼
   ┌─────────┐   ┌──────────┐   ┌──────────┐
   │아이디/PW│   │부스 코드  │   │개인정보  │
   │  로그인 │   │  로그인   │   │입력 시작 │
   └────┬────┘   └────┬─────┘   └────┬─────┘
        │             │              │
        ▼             ▼              ▼
   ┌─────────┐   ┌──────────┐   ┌──────────┐
   │행사/부스│   │대기열    │   │방명록    │
   │  관리   │   │  관리    │   │  작성    │
   └────┬────┘   └────┬─────┘   └────┬─────┘
        │             │              │
        │             │              ▼
        │             │        ┌──────────┐
        │             │        │대기번호  │
        │             │        │  발급    │
        │             │        └────┬─────┘
        │             │             │
        │             ◄─────────────┘
        │             │
        │             ▼
        │        ┌──────────┐
        │        │참가자    │
        │        │  호출    │
        │        └────┬─────┘
        │             │
        │             ▼
        │        ┌──────────┐
        │        │QR 코드   │
        │        │  확인    │
        │        └────┬─────┘
        │             │
        │             ▼
        │        ┌──────────┐
        │        │입장 처리 │
        │        └────┬─────┘
        │             │
        ▼             ▼
   ┌──────────────────────┐
   │   통계 및 분석        │
   │   - 실시간 대시보드   │
   │   - 리포트 생성       │
   │   - 데이터 백업       │
   └──────────────────────┘
```

---

### 📊 데이터 흐름도

```
┌────────────────────────────────────────────────────────────┐
│                     데이터 흐름도                            │
└────────────────────────────────────────────────────────────┘

참가자 입력
    │
    ▼
┌─────────────────┐
│ 개인정보 수집    │
│ - 이름, 연락처   │
│ - 성별, 생년월일 │
└────────┬────────┘
         │
         ▼
┌─────────────────┐       ┌─────────────────┐
│ participants    │       │ visits          │
│ 테이블 저장      │  ──→  │ 방문 기록 생성   │
└────────┬────────┘       └─────────────────┘
         │
         ▼
┌─────────────────┐
│ 대기번호 발급    │
│ queue_tickets   │
└────────┬────────┘
         │
         ▼
┌─────────────────────────────┐
│ 실시간 업데이트               │
├─────────────────────────────┤
│ ├─ 운영자 대시보드 (WebSocket)│
│ ├─ 참가자 대기 화면 (Polling) │
│ └─ 통계 대시보드 (실시간)      │
└─────────────────────────────┘
         │
         ▼
┌─────────────────┐
│ 운영자 호출      │
│ - 상태 변경      │
│ - 알림 발송      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 입장 처리        │
│ - QR 확인        │
│ - 완료 처리      │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 통계 집계        │
│ - 일일 통계      │
│ - 부스별 분석    │
│ - 리포트 생성    │
└─────────────────┘
```

---

### 🎫 대기열 상태 다이어그램

```
┌────────────────────────────────────────────────────────────┐
│                  대기열 상태 전이도                          │
└────────────────────────────────────────────────────────────┘

         [참가자가 대기표 발급]
                  │
                  ▼
         ┌─────────────────┐
         │   WAITING       │  ← 초기 상태
         │   (대기 중)      │
         └────────┬────────┘
                  │
                  │ [운영자가 호출]
                  │
                  ▼
         ┌─────────────────┐
         │   CALLED        │  ← 호출됨
         │   (호출됨)       │
         └────────┬────────┘
                  │
      ┌───────────┼───────────┐
      │                       │
      │ [참가자 입장]          │ [참가자 미응답]
      │                       │
      ▼                       ▼
┌─────────────┐       ┌─────────────┐
│ COMPLETED   │       │ CANCELLED   │
│ (완료)       │       │ (취소)       │
└─────────────┘       └─────────────┘

각 상태별 동작:
• WAITING: 자동 새로고침, 순서 표시
• CALLED: 알림 발송, QR 코드 표시
• COMPLETED: 통계 반영, 다음 호출
• CANCELLED: 재발급 가능, 통계 제외
```

---

### 🔐 인증 흐름도

```
┌────────────────────────────────────────────────────────────┐
│                     인증 프로세스                            │
└────────────────────────────────────────────────────────────┘

관리자 로그인
┌──────────────┐
│ 아이디/비밀번호 │
│     입력       │
└──────┬───────┘
       │
       ▼
┌──────────────┐      ┌────────────┐
│ 비밀번호 해시  │ ──→  │ DB 비교    │
│ (bcrypt)     │      │ admins     │
└──────┬───────┘      └─────┬──────┘
       │                    │
       │ ◄──────────────────┘
       │ [일치]
       ▼
┌──────────────┐
│ JWT 토큰 발급 │
│ - id         │
│ - role       │
│ - exp (24h)  │
└──────┬───────┘
       │
       ▼
┌──────────────┐
│ 관리자 대시보드 │
└──────────────┘

운영자 로그인
┌──────────────┐
│  부스 코드    │
│   (6자리)     │
└──────┬───────┘
       │
       ▼
┌──────────────┐      ┌────────────┐
│ 코드 검증     │ ──→  │ DB 조회    │
│              │      │ booths     │
└──────┬───────┘      └─────┬──────┘
       │                    │
       │ ◄──────────────────┘
       │ [존재함]
       ▼
┌──────────────┐
│ JWT 토큰 발급 │
│ - booth_id   │
│ - role       │
│ - exp (8h)   │
└──────┬───────┘
       │
       ▼
┌──────────────┐
│ 운영자 대시보드 │
└──────────────┘

참가자 (로그인 불필요)
┌──────────────┐
│ 개인정보 입력  │
└──────┬───────┘
       │
       ▼
┌──────────────┐
│ 세션 ID 생성  │
│ (브라우저)    │
└──────┬───────┘
       │
       ▼
┌──────────────┐
│ 방명록 작성   │
│ 대기표 발급   │
└──────────────┘
```

---

## FAQ & 문제 해결

### ❓ 자주 묻는 질문

#### 관리자 FAQ

**Q1: 비밀번호를 잊어버렸어요**
```
A: 현재 비밀번호 재설정 기능이 없습니다.
   데이터베이스에서 직접 수정하거나
   개발자에게 문의하세요.
```

**Q2: 부스 코드를 어떻게 변경하나요?**
```
A: 부스 코드는 변경할 수 없습니다.
   새 부스를 생성하고 기존 부스를
   비활성화하세요.
```

**Q3: 데이터를 Excel로 내보낼 수 있나요?**
```
A: 네, 참가자 목록에서 "내보내기"
   버튼을 클릭하고 CSV 형식을 선택하세요.
   Excel에서 열 수 있습니다.
```

#### 운영자 FAQ

**Q1: 부스 코드를 잊어버렸어요**
```
A: 로그인 화면에서 "부스 코드 찾기"를
   클릭하세요. 행사와 부스명으로
   검색할 수 있습니다.
```

**Q2: 대기 인원이 너무 많아요**
```
A: 대기표 발급을 일시 중지할 수 있습니다.
   관리자에게 요청하거나,
   대기 시간 안내를 명확히 하세요.
```

**Q3: QR 스캔이 안 돼요**
```
A: "수동 입력" 버튼으로 대기번호를
   직접 입력할 수 있습니다.
   또는 참가자에게 대기번호를
   구두로 확인하세요.
```

#### 참가자 FAQ

**Q1: 대기번호를 잃어버렸어요**
```
A: 발급 시 전송된 이메일을 확인하세요.
   또는 운영자에게 이름과 전화번호로
   조회를 요청하세요.
```

**Q2: 대기 시간이 너무 길어요**
```
A: 실시간 대기 현황에서 예상 시간을
   확인할 수 있습니다. 다른 부스를
   먼저 방문하는 것도 좋습니다.
```

**Q3: 방명록을 수정할 수 있나요?**
```
A: 제출 후에는 수정할 수 없습니다.
   중요한 경우 운영자나 관리자에게
   문의하세요.
```

---

### 🔧 문제 해결

#### 로그인 문제

**증상: "로그인 실패" 오류**
```
원인:
├─ 잘못된 아이디/비밀번호
├─ 부스 코드 오타
└─ 데이터베이스 연결 오류

해결:
1. 입력 정보 재확인
2. 대소문자 확인 (부스 코드는 대문자)
3. 브라우저 캐시 삭제
4. 시크릿 모드로 재시도
5. 관리자에게 문의
```

#### 페이지 로딩 문제

**증상: 페이지가 느리거나 로드 안 됨**
```
원인:
├─ 네트워크 연결 불안정
├─ 서버 과부하
└─ 브라우저 캐시 문제

해결:
1. 페이지 새로고침 (F5)
2. 강력 새로고침 (Ctrl+Shift+R)
3. 브라우저 캐시 삭제
4. 다른 브라우저 시도
5. 잠시 후 다시 시도
```

#### QR 코드 문제

**증상: QR 코드가 표시되지 않음**
```
원인:
├─ 대기번호 미발급
├─ 이미 사용된 대기번호
└─ 브라우저 권한 문제

해결:
1. 대기번호 발급 확인
2. 페이지 새로고침
3. 운영자에게 수동 확인 요청
```

#### 대기열 문제

**증상: 대기 순서가 이상해요**
```
원인:
├─ 여러 명이 동시 발급
├─ 일부 대기자 취소
└─ 시스템 시간 차이

해결:
1. 페이지 새로고침으로 최신 정보 확인
2. 현재 호출 번호 기준으로 판단
3. 운영자에게 문의
```

---

### 📞 지원 문의

#### 기술 지원
```
이메일: support@example.com
전화: 02-1234-5678
운영 시간: 평일 09:00 - 18:00
```

#### 긴급 문의
```
행사 당일 긴급 문의
전화: 010-1234-5678
(24시간 대응)
```

---

## 부록

### 📱 시스템 요구사항

#### 지원 브라우저
```
✓ Chrome 90 이상
✓ Safari 14 이상
✓ Edge 90 이상
✓ Firefox 88 이상
✓ 모바일 브라우저 (최신 버전)
```

#### 권장 환경
```
네트워크: Wi-Fi 또는 4G/5G
화면 해상도: 1280x720 이상
RAM: 4GB 이상
```

---

### 🔑 기본 계정 정보

#### 관리자 계정
```
아이디: admin
비밀번호: admin123
```

⚠️ **보안 주의**: 첫 로그인 후 즉시 비밀번호를 변경하세요!

#### 테스트 부스
```
부스명: 제미나이 AI 체험 부스
부스 코드: GEMI01
```

---

### 📊 시스템 제한사항

```
동시 접속자: 최대 1,000명
파일 업로드: 최대 10MB
방명록 메시지: 최대 500자
대기표 유효기간: 24시간
세션 유효기간: 
  - 관리자: 24시간
  - 운영자: 8시간
```

---

### 🎨 Apple HIG 디자인 적용

이 시스템은 Apple의 Human Interface Guidelines를 따릅니다:

```
색상 시스템
├─ Primary: #007AFF (파란색)
├─ Secondary: #5856D6 (보라색)
├─ Success: #34C759 (초록색)
└─ Error: #FF3B30 (빨간색)

타이포그래피
├─ Large Title: 34pt
├─ Title 1: 28pt
├─ Body: 17pt
└─ Caption: 12pt

터치 타겟
└─ 최소 44x44 포인트
```

---

## 📝 버전 정보

```
시스템 버전: 1.0.0
릴리스 날짜: 2025-06-15
마지막 업데이트: 2025-11-16

주요 기능:
✓ Apple HIG 디자인 시스템
✓ 실시간 대기열 관리
✓ QR 코드 기반 입장 관리
✓ 통합 통계 대시보드
✓ PWA 지원 (오프라인 가능)
```

---

**© 2025 축제 디지털방명록 시스템. All rights reserved.**
